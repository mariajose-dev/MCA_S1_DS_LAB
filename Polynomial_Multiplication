/*
Polynomial Multiplication @Maria Jose
Roll No: 42
Completed Date: 12/08/2025
*/

#include <stdio.h>

#define MAX 20  // maximum degree of resulting polynomial (to accommodate multiplication)

// Function to read a polynomial
void readPolynomial(int coeff[], int *degree) {
    int i;
    printf("Enter the degree of the polynomial: ");
    scanf("%d", degree);  // read degree of polynomial

    printf("Enter the coefficients from highest degree to constant term:-\n");
    for(i = *degree; i >= 0; i--) {  // loop from highest degree down to 0
        printf("Coefficient of x^%d: ", i);
        scanf("%d", &coeff[i]);      // store coefficient in array
    }
}

// Function to display a polynomial
void displayPolynomial(int coeff[], int degree) {
    int i;
    int first = 1; // flag for first term to handle '+' signs
    for(i = degree; i >= 0; i--) {  // loop from highest degree to 0
        if(coeff[i] != 0) {         // display only non-zero terms
            if(!first && coeff[i] > 0) // add '+' sign for positive terms except first
                printf(" + ");
            if(i == 0)              // constant term
                printf("%d", coeff[i]);
            else if(i == 1)         // x term
                printf("%dx", coeff[i]);
            else                     // x^i term
                printf("%dx^%d", coeff[i], i);
            first = 0;               // first term printed
        }
    }
    if(first)  // if all coefficients are zero
        printf("0");
    printf("\n");  // move to next line
}
// Function to multiply two polynomials
int multiplyPolynomials(int coeff1[], int degree1, int coeff2[], int degree2, int result[]) {
    int i, j;

    // Initialize result coefficients to 0
    for(i = 0; i <= degree1 + degree2; i++)
        result[i] = 0;

    // Multiply each term of first polynomial with each term of second
    for(i = 0; i <= degree1; i++) {
        for(j = 0; j <= degree2; j++) {
            result[i + j] += coeff1[i] * coeff2[j]; // add product to corresponding power
        }
    }

    return degree1 + degree2; // return degree of resulting polynomial
}

// Main function
int main() {
    int coeff1[MAX], coeff2[MAX], prod[MAX]; // arrays to store polynomials
    int degree1, degree2, prodDegree;

    printf("POLYNOMIAL MULTIPLICATION\n-------------------------\n");
    
    printf("\nfirst polynomial\n");
    readPolynomial(coeff1, &degree1);  // read first polynomial

    printf("\nsecond polynomial\n");
    readPolynomial(coeff2, &degree2);  // read second polynomial

    printf("\nFirst Polynomial is ");
    displayPolynomial(coeff1, degree1); // display first polynomial

    printf("Second Polynomial is ");
    displayPolynomial(coeff2, degree2); // display second polynomial

    prodDegree = multiplyPolynomials(coeff1, degree1, coeff2, degree2, prod); // multiply polynomials

    printf("\nProduct of polynomials is ");
    displayPolynomial(prod, prodDegree); // display result

    return 0; // end of program
}
